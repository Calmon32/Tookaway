(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{29:function(e){e.exports=JSON.parse('{"restaurants":[{"name":"Tanoshii Sushi","status":"open","sortingValues":{"bestMatch":0,"newest":96,"ratingAverage":4.5,"distance":1190,"popularity":17,"averageProductPrice":1536,"deliveryCosts":200,"minCost":1000}},{"name":"Tandoori Express","status":"closed","sortingValues":{"bestMatch":1,"newest":266,"ratingAverage":4.5,"distance":2308,"popularity":123,"averageProductPrice":1146,"deliveryCosts":150,"minCost":1300}},{"name":"Royal Thai","status":"order ahead","sortingValues":{"bestMatch":2,"newest":133,"ratingAverage":4.5,"distance":2639,"popularity":44,"averageProductPrice":1492,"deliveryCosts":150,"minCost":2500}},{"name":"Sushi One","status":"open","sortingValues":{"bestMatch":3,"newest":238,"ratingAverage":4,"distance":1618,"popularity":23,"averageProductPrice":1285,"deliveryCosts":0,"minCost":1200}},{"name":"Roti Shop","status":"open","sortingValues":{"bestMatch":4,"newest":247,"ratingAverage":4.5,"distance":2308,"popularity":81,"averageProductPrice":915,"deliveryCosts":0,"minCost":2000}},{"name":"Aarti 2","status":"open","sortingValues":{"bestMatch":5,"newest":153,"ratingAverage":4.5,"distance":1605,"popularity":44,"averageProductPrice":922,"deliveryCosts":250,"minCost":500}},{"name":"Pizza Heart","status":"order ahead","sortingValues":{"bestMatch":6,"newest":118,"ratingAverage":4,"distance":2453,"popularity":9,"averageProductPrice":1103,"deliveryCosts":150,"minCost":1500}},{"name":"Mama Mia","status":"order ahead","sortingValues":{"bestMatch":7,"newest":250,"ratingAverage":4,"distance":1396,"popularity":6,"averageProductPrice":912,"deliveryCosts":0,"minCost":1000}},{"name":"Feelfood","status":"order ahead","sortingValues":{"bestMatch":8,"newest":163,"ratingAverage":4.5,"distance":2732,"popularity":31,"averageProductPrice":902,"deliveryCosts":150,"minCost":1500}},{"name":"Daily Sushi","status":"closed","sortingValues":{"bestMatch":9,"newest":221,"ratingAverage":4,"distance":1911,"popularity":6,"averageProductPrice":1327,"deliveryCosts":200,"minCost":1000}},{"name":"Pamukkale","status":"closed","sortingValues":{"bestMatch":10,"newest":201,"ratingAverage":4,"distance":2353,"popularity":25,"averageProductPrice":968,"deliveryCosts":0,"minCost":2000}},{"name":"Indian Kitchen","status":"open","sortingValues":{"bestMatch":11,"newest":272,"ratingAverage":4.5,"distance":2308,"popularity":5,"averageProductPrice":1189,"deliveryCosts":150,"minCost":1300}},{"name":"CIRO 1939","status":"open","sortingValues":{"bestMatch":12,"newest":231,"ratingAverage":4.5,"distance":3957,"popularity":79,"averageProductPrice":1762,"deliveryCosts":99,"minCost":1300}},{"name":"Zenzai Sushi","status":"closed","sortingValues":{"bestMatch":13,"newest":155,"ratingAverage":4,"distance":2911,"popularity":36,"averageProductPrice":1579,"deliveryCosts":0,"minCost":2000}},{"name":"Fes Patisserie","status":"order ahead","sortingValues":{"bestMatch":14,"newest":77,"ratingAverage":4,"distance":2302,"popularity":3,"averageProductPrice":1214,"deliveryCosts":150,"minCost":1250}},{"name":"Yvonne\'s Vispaleis","status":"order ahead","sortingValues":{"bestMatch":15,"newest":150,"ratingAverage":5,"distance":2909,"popularity":3,"averageProductPrice":2557,"deliveryCosts":150,"minCost":1750}},{"name":"De Amsterdamsche Tram","status":"open","sortingValues":{"bestMatch":304,"newest":131,"ratingAverage":0,"distance":2792,"popularity":0,"averageProductPrice":892,"deliveryCosts":0,"minCost":0}},{"name":"Lale Restaurant & Snackbar","status":"order ahead","sortingValues":{"bestMatch":305,"newest":73,"ratingAverage":0,"distance":2880,"popularity":0,"averageProductPrice":838,"deliveryCosts":0,"minCost":0}},{"name":"Lunchpakketdienst","status":"open","sortingValues":{"bestMatch":306,"newest":259,"ratingAverage":3.5,"distance":14201,"popularity":0,"averageProductPrice":4465,"deliveryCosts":500,"minCost":5000}}]}')},36:function(e,t,a){e.exports=a(54)},50:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(10),o=a.n(n),i=a(32),c=a(22),l=a(23),u=a(24),g=a(33),d=a(25),v=a(9),m=a(34),h=a(26),p=a.n(h),y=a(57),C=a(56),f=a(58);var b=function(e){return r.a.createElement(y.a,{expand:"lg",className:"NavBar",variant:"dark"},r.a.createElement(C.a,null,r.a.createElement(y.a.Brand,{href:"/"},r.a.createElement("h1",{className:"title"},"Tookaway",r.a.createElement("span",{style:{fontWeight:"100",fontSize:"30px"}},".com"))),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(f.a,{inline:!0},r.a.createElement(f.a.Control,{type:"text",placeholder:"Search",onChange:e.changeSearch}),r.a.createElement(f.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(f.a.Label,{column:!0,className:"text"},"Sort by:"),r.a.createElement(f.a.Control,{as:"select",onChange:e.changeSorting},r.a.createElement("option",{value:"-1"},"Top Restaurants"),r.a.createElement("option",{value:"0"},"Best Match"),r.a.createElement("option",{value:"1"},"Newest"),r.a.createElement("option",{value:"2"},"Avg. Rating"),r.a.createElement("option",{value:"3"},"Distance"),r.a.createElement("option",{value:"4"},"Popularity"),r.a.createElement("option",{value:"5"},"Avg. Price"),r.a.createElement("option",{value:"6"},"Delivery Costs"),r.a.createElement("option",{value:"7"},"Min. Costs")))))))},P=a(59);var V=function(e){var t=null;switch(e.sorting){case"-1":t="TopRestaurants: ".concat(e.restaurant.sortingValues.topRestaurants);break;case"0":t="BestMatch: ".concat(e.restaurant.sortingValues.bestMatch);break;case"1":t="Newest: ".concat(e.restaurant.sortingValues.newest);break;case"2":t="RatingAverage: ".concat(e.restaurant.sortingValues.ratingAverage);break;case"3":t="Distance: ".concat(e.restaurant.sortingValues.distance);break;case"4":t="Popularity: ".concat(e.restaurant.sortingValues.popularity);break;case"5":t="AverageProductPrice: ".concat(e.restaurant.sortingValues.averageProductPrice);break;case"6":t="DeliveryCosts: ".concat(e.restaurant.sortingValues.deliveryCosts);break;case"7":t="MinCost: ".concat(e.restaurant.sortingValues.minCost);break;default:t=""}return r.a.createElement("div",{className:"restaurant-card"},r.a.createElement(P.a,null,r.a.createElement(P.a.Img,{style:{backgroundColor:"lightgrey"},variant:"top",src:"./chef.png"}),r.a.createElement(P.a.ImgOverlay,null,r.a.createElement("button",{onClick:function(){e.favorite(e.restaurant)},className:"fav-btn"},e.restaurant.fav?r.a.createElement("img",{className:"fav-btn",src:"./heart-full.png",alt:"favorite"}):r.a.createElement("img",{className:"fav-btn",src:"./heart-empty.png",alt:"not favorite"}))),r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Title,null,e.restaurant.name),r.a.createElement(P.a.Text,{style:{fontSize:"12px"}},t),r.a.createElement("button",{className:"order-btn ".concat(e.restaurant.status)},r.a.createElement("img",{className:"status-icon",src:"closed"===e.restaurant.status?"./closed.png":"open"===e.restaurant.status?"./scooter.png":"./clock.png",alt:"status icon"}),"closed"===e.restaurant.status?"Closed":"open"===e.restaurant.status?"Order Now":"Order Ahead"))))},E=function(e,t,a){return w(e,a).sort((function(e,a){var s=e.fav?0:1,r=a.fav?0:1,n="closed"===e.status?2:"open"===e.status?0:1,o="closed"===a.status?2:"open"===a.status?0:1;return s-r||n-o||S(e,a,t)}))},w=function(e,t){return t&&""!==t?e.filter((function(e,a){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())})):e},S=function(e,t,a){switch(a){case"-1":return t.sortingValues.topRestaurants-e.sortingValues.topRestaurants;case"0":return e.sortingValues.bestMatch-t.sortingValues.bestMatch;case"1":return e.sortingValues.newest-t.sortingValues.newest;case"2":return t.sortingValues.ratingAverage-e.sortingValues.ratingAverage;case"3":return e.sortingValues.distance-t.sortingValues.distance;case"4":return t.sortingValues.popularity-e.sortingValues.popularity;case"5":return e.sortingValues.averageProductPrice-t.sortingValues.averageProductPrice;case"6":return e.sortingValues.deliveryCosts-t.sortingValues.deliveryCosts;case"7":return e.sortingValues.minCost-t.sortingValues.minCost;default:return 0}},A=function(e){return r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"card-grid"},E(e.restaurants,e.sorting,e.search).map((function(t,a){return r.a.createElement(V,Object.assign({restaurant:t,key:a},e))}))))},k=(a(50),a(29)),M=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(g.a)(this,Object(d.a)(t).call(this))).state={restaurants:[],search:"",sortingBy:"-1",loading:!0},e.favorites={},e.handleSortChange=e.handleSortChange.bind(Object(v.a)(e)),e.handleSearchChange=e.handleSearchChange.bind(Object(v.a)(e)),e.handleFavorite=e.handleFavorite.bind(Object(v.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleSortChange",value:function(e){this.setState({sortingBy:e.target.value})}},{key:"handleSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"handleFavorite",value:function(e){var t=this.state.restaurants.indexOf(e);this.setState((function(a){return{restaurants:p()(a.restaurants,Object(c.a)({},t,{fav:{$set:!e.fav}}))}})),this.favorites[e.name]=!e.fav,console.log(this.favorites),localStorage.setItem("favorite-restaurants",JSON.stringify(this.favorites))}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/api").then((function(e){return e.json()})).then((function(t){e.loadData(t)})).catch((function(t){console.log("Failed to fetch data. Using fake data."),e.loadData(k)}))}},{key:"loadData",value:function(e){var t=JSON.parse(localStorage.getItem("favorite-restaurants"));t||(t=[]),this.favorites=t,e.restaurants.map((function(e){var a=t[e.name];e.fav=void 0!==a&&a,e.sortingValues.topRestaurants=e.sortingValues.distance*e.sortingValues.popularity+e.sortingValues.ratingAverage})),this.setState({restaurants:e.restaurants,loading:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,{changeSorting:this.handleSortChange,changeSearch:this.handleSearchChange}),r.a.createElement(A,{loading:this.state.loading,favorite:this.handleFavorite,sorting:this.state.sortingBy,restaurants:this.state.restaurants,search:this.state.search}))}}]),t}(s.Component);o.a.render(r.a.createElement(i.a,null,r.a.createElement(M,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.c61ab98d.chunk.js.map