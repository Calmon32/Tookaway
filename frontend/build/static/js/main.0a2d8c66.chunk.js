(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{35:function(e,t,a){e.exports=a(53)},49:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),o=a.n(s),c=a(31),l=a(22),i=a(23),u=a(24),g=a(32),h=a(25),v=a(9),m=a(33),d=a(26),f=a.n(d),p=a(56),E=a(55),b=a(57);var y=function(e){return r.a.createElement(p.a,{expand:"lg",className:"NavBar",variant:"dark"},r.a.createElement(E.a,null,r.a.createElement(p.a.Brand,{href:"/"},r.a.createElement("h1",{className:"title"},"Tookaway",r.a.createElement("span",{style:{fontWeight:"100",fontSize:"30px"}},".com"))),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},r.a.createElement(b.a,{inline:!0},r.a.createElement(b.a.Control,{type:"text",placeholder:"Search",onChange:e.changeSearch}),r.a.createElement(b.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(b.a.Label,{column:!0,className:"text"},"Sort by:"),r.a.createElement(b.a.Control,{as:"select",onChange:e.changeSorting},r.a.createElement("option",{value:"-1"},"Top Restaurants"),r.a.createElement("option",{value:"0"},"Best Match"),r.a.createElement("option",{value:"1"},"Newest"),r.a.createElement("option",{value:"2"},"Avg. Rating"),r.a.createElement("option",{value:"3"},"Distance"),r.a.createElement("option",{value:"4"},"Popularity"),r.a.createElement("option",{value:"5"},"Avg. Price"),r.a.createElement("option",{value:"6"},"Delivery Costs"),r.a.createElement("option",{value:"7"},"Min. Costs")))))))},V=a(58);var C=function(e){var t=null;switch(e.sorting){case"-1":t="TopRestaurants: ".concat(e.restaurant.sortingValues.topRestaurants);break;case"0":t="BestMatch: ".concat(e.restaurant.sortingValues.bestMatch);break;case"1":t="Newest: ".concat(e.restaurant.sortingValues.newest);break;case"2":t="RatingAverage: ".concat(e.restaurant.sortingValues.ratingAverage);break;case"3":t="Distance: ".concat(e.restaurant.sortingValues.distance);break;case"4":t="Popularity: ".concat(e.restaurant.sortingValues.popularity);break;case"5":t="AverageProductPrice: ".concat(e.restaurant.sortingValues.averageProductPrice);break;case"6":t="DeliveryCosts: ".concat(e.restaurant.sortingValues.deliveryCosts);break;case"7":t="MinCost: ".concat(e.restaurant.sortingValues.minCost);break;default:t=""}return r.a.createElement("div",{className:"restaurant-card"},r.a.createElement(V.a,null,r.a.createElement(V.a.Img,{style:{backgroundColor:"lightgrey"},variant:"top",src:"/chef.png"}),r.a.createElement(V.a.ImgOverlay,null,r.a.createElement("button",{onClick:function(){e.favorite(e.restaurant)},className:"fav-btn"},e.restaurant.fav?r.a.createElement("img",{className:"fav-btn",src:"/heart-full.png",alt:"favorite"}):r.a.createElement("img",{className:"fav-btn",src:"/heart-empty.png",alt:"not favorite"}))),r.a.createElement(V.a.Body,null,r.a.createElement(V.a.Title,null,e.restaurant.name),r.a.createElement(V.a.Text,{style:{fontSize:"12px"}},t),r.a.createElement("button",{className:"order-btn ".concat(e.restaurant.status)},r.a.createElement("img",{className:"status-icon",src:"closed"===e.restaurant.status?"/closed.png":"open"===e.restaurant.status?"/scooter.png":"/clock.png",alt:"status icon"}),"closed"===e.restaurant.status?"Closed":"open"===e.restaurant.status?"Order Now":"Order Ahead"))))},S=function(e,t,a){return k(e,a).sort((function(e,a){var n=e.fav?0:1,r=a.fav?0:1,s="closed"===e.status?2:"open"===e.status?0:1,o="closed"===a.status?2:"open"===a.status?0:1;return n-r||s-o||N(e,a,t)}))},k=function(e,t){return t&&""!==t?e.filter((function(e,a){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())})):e},N=function(e,t,a){switch(a){case"-1":return t.sortingValues.topRestaurants-e.sortingValues.topRestaurants;case"0":return e.sortingValues.bestMatch-t.sortingValues.bestMatch;case"1":return e.sortingValues.newest-t.sortingValues.newest;case"2":return t.sortingValues.ratingAverage-e.sortingValues.ratingAverage;case"3":return e.sortingValues.distance-t.sortingValues.distance;case"4":return t.sortingValues.popularity-e.sortingValues.popularity;case"5":return e.sortingValues.averageProductPrice-t.sortingValues.averageProductPrice;case"6":return e.sortingValues.deliveryCosts-t.sortingValues.deliveryCosts;case"7":return e.sortingValues.minCost-t.sortingValues.minCost;default:return 0}},w=function(e){return r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"card-grid"},S(e.restaurants,e.sorting,e.search).map((function(t,a){return r.a.createElement(C,Object.assign({restaurant:t,key:a},e))}))))},O=(a(49),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(g.a)(this,Object(h.a)(t).call(this))).state={restaurants:[],search:"",sortingBy:"-1",loading:!0},e.favorites={},e.handleSortChange=e.handleSortChange.bind(Object(v.a)(e)),e.handleSearchChange=e.handleSearchChange.bind(Object(v.a)(e)),e.handleFavorite=e.handleFavorite.bind(Object(v.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleSortChange",value:function(e){this.setState({sortingBy:e.target.value})}},{key:"handleSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"handleFavorite",value:function(e){var t=this.state.restaurants.indexOf(e);this.setState((function(a){return{restaurants:f()(a.restaurants,Object(l.a)({},t,{fav:{$set:!e.fav}}))}})),this.favorites[e.name]=!e.fav,console.log(this.favorites),localStorage.setItem("favorite-restaurants",JSON.stringify(this.favorites))}},{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("favorite-restaurants"));t||(t=[]),this.favorites=t,fetch("http://localhost:3000/api").then((function(e){return e.json()})).then((function(a){a.restaurants.map((function(e){var a=t[e.name];e.fav=void 0!==a&&a,e.sortingValues.topRestaurants=e.sortingValues.distance*e.sortingValues.popularity+e.sortingValues.ratingAverage})),e.setState({restaurants:a.restaurants,loading:!1})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{changeSorting:this.handleSortChange,changeSearch:this.handleSearchChange}),r.a.createElement(w,{loading:this.state.loading,favorite:this.handleFavorite,sorting:this.state.sortingBy,restaurants:this.state.restaurants,search:this.state.search}))}}]),t}(n.Component));o.a.render(r.a.createElement(c.a,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.0a2d8c66.chunk.js.map